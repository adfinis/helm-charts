# kubernetes-etcd-backup

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v1.0.1](https://img.shields.io/badge/AppVersion-v1.0.1-informational?style=flat-square)

Chart for kubernetes-etcd-backup solution

**Homepage:** <https://github.com/Xelef2000/kubernetes-etcd-backup>

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| adfinis | <support@adfinis.com> | <https://adfinis.com> |

## Source Code

* <https://github.com/Xelef2000/kubernetes-etcd-backup>

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| backup.dirname | string | `"+etcd-backup-%FT%T%:z"` | Directory name of single backup |
| backup.expiretype | string | `"days"` | expiretype could be days (keep backups newer than backup.keepdays, count (keep a number of backups with backup.keepcount), never (do not expire backups, keep all of them) |
| backup.keepcount | string | `"10"` | Count retention if expiretype set to count |
| backup.keepdays | string | `"30"` | Retention period |
| backup.schedule | string | `"0 0 * * *"` | Backup schedule |
| backup.subdir | string | `"/"` | Sub directory path |
| backup.umask | string | `"0027"` | Set umask during the backup |
| etcdCertification.etcdPeerTlsName | string | `""` | etcd-peer-tls secret name |
| etcdCertification.etcdServerCaName | string | `""` | etcd-server-ca secret key |
| etcdConfiguration.endpoint | string | `""` | Etcd endpoint ip or hostname without protocol or port |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"Always"` | Image pull policy configuration |
| image.repository | string | `"ghcr.io/xelef2000/kubernetes-etcd-backup"` | Repository image to use |
| image.tag | string | `"latest"` | Overrides the image tag whose default is the chart appVersion. |
| monitoring.additionalRules | string | `nil` | Provide custom recording or alerting rules to be deployed into the cluster. |
| monitoring.enabled | bool | `false` | Deploy PrometheusRule to be alerted in case of backup fails as decribed [here](https://github.com/adfinis/openshift-etcd-backup/blob/main/etcd-backup-cronjob-monitor.PrometheusRule.yaml). Be sure to to have monitoring for user defined projects enabled as [described in the upstream documentation](https://docs.openshift.com/container-platform/4.6/monitoring/enabling-monitoring-for-user-defined-projects.html). |
| monitoring.rules.cronjobMonitor | bool | `true` | Deploy PrometheusRule to check for cronjob fails. |
| nameOverride | string | `""` |  |
| persistence.capacity | string | `"10Gi"` | Define the storage size |
| persistence.nfs.enabled | bool | `false` | Enable nfs backend storage |
| persistence.nfs.path | string | `"nfs/example/path"` | NFS server path |
| persistence.nfs.server | string | `"example.com"` | NFS server name or IP |
| persistence.provisioning.enabled | bool | `false` | Enable provisioned backend storage with default or configured storageClass |
| persistence.provisioning.storageClass | string | `""` |  |
| persistence.reclaimPolicy | string | `"Retain"` | Set reclaim policy (Retain or Delete) |
| resources | string | `nil` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.3](https://github.com/norwoodj/helm-docs/releases/v1.11.3)
